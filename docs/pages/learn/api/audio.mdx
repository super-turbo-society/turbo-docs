# Audio

## Overview

The `audio` module provides methods for playing back project's audio files.

:::tip[Check Your Setup]
Check out [Playing Music & Sound &rarr;](/learn/guides/audio) to ensure your project is ready to play audio.
:::

## API

:::info
The following file formats are supported: `.wav`, `.mp3`, `.ogg`, and `.flac`.
:::

### `audio::play`

Plays an audio file from your project's `audio` directory,

```rs
audio::play(name: &str);
```

| Param  | Type   | Default | Description                          |
| :----- | :----- | :------ | :----------------------------------- |
| `name` | `&str` |         | The name of the audio asset to play. |

:::tip
Use `audio::play` to play a sound effect from your audio folder. For example, if your sound effect is named `coin.wav` you can play it with `audio:play("coin")`
:::

### `audio::is_playing`

Returns `true` if the given audio track is currently being played.

```rs
audio::is_playing(name: &str) -> bool
```

| Param  | Type   | Default | Description                        |
| :----- | :----- | :------ | :--------------------------------- |
| `name` | `&str` |         | The name of the audio asset check. |

:::tip[Looping sound]

You can loop a sound like this:

```rust
if !audio::is_playing("background_music") {
    audio::play("background_music");
}
```

This will automatically restart the music once it ends.

:::

### `audio::pause`

Pauses the given audio track.

```rs
audio::pause(name: &str)
```

| Param  | Type   | Default | Description                           |
| :----- | :----- | :------ | :------------------------------------ |
| `name` | `&str` |         | The name of the audio asset to pause. |

### `audio::stop`

Stops the given audio track and resets its progress to the beginning.

```rs
audio::stop(name: &str)
```

| Param  | Type   | Default | Description                          |
| :----- | :----- | :------ | :----------------------------------- |
| `name` | `&str` |         | The name of the audio asset to stop. |

### `audio::get_volume`

Gets the current volume of the sound identified by `name`, expressed as a percentage (`0.0` to `1.0`).

```rs
audio::get_volume(name: &str) -> f32
```

:::note
Converts the internal decibel value to a linear scale using: `P = 10^(AdB / 10)`.
:::

| Param  | Type   | Default | Description                                       |
| :----- | :----- | :------ | :------------------------------------------------ |
| `name` | `&str` |         | The name of the audio asset to get the volume of. |

### `audio::set_volume`

Sets the volume of the sound identified by `name`, using a `0.0` to `1.0` linear scale.

```rs
audio::set_volume(name: &str, volume: f32)
```

:::note
Converts to decibels using: `AdB = 10 * log10(P)`. Values `<= 0.0` are clamped to `-80.0dB`.
:::

| Param    | Type   | Default | Description                                       |
| :------- | :----- | :------ | :------------------------------------------------ |
| `name`   | `&str` |         | The name of the audio asset to set the volume of. |
| `volume` | `f32`  |         | Percentage of max volume (between 0.0-1.0)        |

### `audio::mute`

Mutes the sound identified by `name`.

```rs
audio::mute(name: &str)
```

| Param  | Type   | Default | Description                          |
| :----- | :----- | :------ | :----------------------------------- |
| `name` | `&str` |         | The name of the audio asset to mute. |

:::note
Sets the volume to `-80db`.
:::

### `audio::is_muted`

Returns `true` if the sound identified by `name` is currently muted.

```rs
audio::is_muted(name: &str) -> bool
```

| Param  | Type   | Default | Description                                    |
| :----- | :----- | :------ | :--------------------------------------------- |
| `name` | `&str` |         | The name of the audio asset to check if muted. |

:::note
This checks whether the effective linear volume is `-60db` or lower which is considered 0%.
:::

### `audio::unmute`

Resets the sound's volume to the last volume before it was muted.

```rs
audio::unmute(name: &str)
```

| Param  | Type   | Default | Description                            |
| :----- | :----- | :------ | :------------------------------------- |
| `name` | `&str` |         | The name of the audio asset to unmute. |
